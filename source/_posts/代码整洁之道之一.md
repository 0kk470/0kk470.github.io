---
title: 代码整洁之道1 - 命名
date: 2022-02-15 19:03:30
tags: 代码整洁之道
---

# 前言

《代码整洁之道》的第二章读书笔记整理。

# 正文

### 1. 名副其实
***

要让别人一看变量、函数或类的名称就该知道它为什么会存在、它做了什么事、应该怎么用。

假设有一个与时间相关的变量

```CSharp
int d; 
``` 
如果直接这么命名，第一次看到这变量的人不容易理解，更好的命名方式如下:

```CSharp
int elapsedTimeInDays;
int daysSinceCreation;
int fileAgeInDays; 
```
这样一看就知道该变量所代表的含义。

以下代码同理，函数名含义模糊不清，另外列表```list1``` 、常量```4```、迭代变量```x```等的意义未知。
```CSharp
public List<int[]> getThem()
{
    List<int[]> list1 = new List<int[]>();
    foreach(int[] x in theList)
    {
        if(x[0] == 4)
            list1.Add(cell);
    }
    return list1;
}
```

以下为重构后的代码，使用一个类来封装相关的变量与逻辑，这样一眼看过去就知道这段代码在干嘛了。
```CSharp
public List<Cell> getFlaggedCells()
{
    var flaggedCells = new List<Cell>();
    foreach(var cell in gameboard)
    {
        if(cell.isFlagged())
            flaggedCells.Add(cell);
    }
    return flaggedCells;
}
```

### 2. 避免误导
* 避免使用与本意相悖的单词，比如 UniX平台下的 ```hp```、```aix```、```sco``` 等专有名称不应作为变量名。
* 避免使用形如```accountList``` 的名称，除非该变量身就是```List```类型，考虑到未来该容器的类型可能会发生改变，比如变成了字典、HashSet之类的，这个时候```accountList```本身就会引起其他开发人员错误的认知，他第一次看到该变量被调用时会认为这是一个List。 更好的命名是用 ```accountGroup```、```bunchofAccounts```甚至直接用```accounts```都会更好。
* 
### 3. 命名要有区分
* 在同一作用范围内的两个东西不能重名。比如
```CSharp
public static void copyChars(char[] a1, char[] a2)
{
    for(int i = 0; i < a1.Length; ++i)
        a2[i] = a1[i];
}
```
上述代码的参数名```a1```和```a2```完全可以用```source```和```destination```替代，这样函数使用者就知道他是将第一个数组的数据拷贝到第二个数组当中。


### 4. 可读性
### 5. 可搜索
### 6. 避免使用编码
 *  6.1匈牙利语标记法
 *  6.2成员前缀
 *  6.3接口命名
### 7. 单一概念命名
### 8. 符合语境
